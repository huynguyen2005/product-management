extends ../../layouts/default.pug

block main
    h1(class="mb-4") Danh sách tài khoản

    .card.mb-3
        .card-header Danh sách
        .card-body
            .row.mb-3
                .col-8
                .col-4.text-end
                    a(
                        href=`${preFixAdmin}/accounts/create`
                        class="btn btn-outline-success"
                    ) + Thêm mới

            table(class="table table-hover table-bordered align-middle text-center")
                thead(class="table-light")
                    tr
                        th(style="width: 50px;") STT
                        th Avatar
                        th Họ tên
                        th Phân quyền
                        th Email
                        th Trạng thái
                        th Hành động
                tbody
                    if accounts && accounts.length > 0
                        each item, index in accounts
                            tr
                                td #{index + 1}
                                td
                                    img(src=item.avatar, alt="Avatar", style="width:40px; height:40px; border-radius:50%; object-fit:cover;")
                                td #{item.fullName}
                                td #{item.role.title}
                                td #{item.email}
                                td
                                    if item.status == 'active'
                                        span.badge.bg-success Hoạt động
                                    else
                                        span.badge.bg-secondary Dừng hoạt động
                                td
                                    a(
                                        class="btn btn-secondary btn-sm me-1"
                                        href=`${preFixAdmin}/accounts/detail/${item._id}`
                                    ) Chi tiết
                                    a(
                                        class="btn btn-warning btn-sm me-1 text-white"
                                        href=`${preFixAdmin}/accounts/edit/${item._id}`
                                    ) Sửa
                                    button(
                                        class="btn btn-danger btn-sm"
                                        type="button"
                                        data-id=item._id
                                    ) Xóa
                    else
                        tr
                            td(colspan="7" class="text-center text-muted") Chưa có tài khoản nào được tạo.
